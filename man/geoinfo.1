.TH GEOINFO 1 
.SH NAME
geoinfo - handles the geoinfo Database for gpsdrive
.SH SYNOPSIS
.B geoinfo [options]

.SH About this manual page

This manual page explain the basic functions of Geoinfo and some
additional info.

.SH DESCRIPTION

.B Geoinfo 


.SH Database Design

Vector Support description and thoughts

First of all the new poi and streets and tracks tables are pre pre pre pre alpha and 
highly testing ;-))
And since it is highly experimental and testing the structure of the database 
might still be subject of drastic changes.

At the moment it has the following parts:
 - geoinfo.pl to create and fill the database
 - the three main tables: poi, streets and tracks
 - and the displaying routines in src/poi.c, src/streets.c amd src/tracks.c
 - the bugs and quirks especially for the testers ;-)

At the moment the only relation to the old database tables is: The Tables are 
located in the same database and therefor using the same connect routines. At 
the Moment this is on purpose, because the structure changed pretty much and 
I thought it is a wise Idea to leave the working code as is.
There were too many connections to other programs of which I had no exact 
knowledge; so i decided to do a soft migration. First get everything running 
with the new Database tables. And later remove the waypoint table.
At the moment there is no user interface inside gpsdrive itself to change or set any of 
these sql Data. The only way to fill in Data is at the moment using
geoinfo.pl.
Sure this is to change for later versions; but it will be a lot of programming.

There is an effort to create a central database where everyone can contribute 
poi and street entries. And on the other hand download all this data from 
this central database to your user pc. I got this Idea when I was looking at 
websites like http://www.wigle.net/. They are doing similar things for 
wavelan waypoints.

.SH Table 'poi':
The main Table is poi. There is are relations 
   poi(type_id) --> type(type_id)
   poi(source_id) --> source(source_id)
   poi(address_id) --> address(address_id) [not filled yet]

poi is holding single Point-Of-Interest(POI)

.SH Table 'source':
This Table is intended to reflect where the data came from. This should 
include things like a link(url) to the source. With this table you will be 
able to update part of your complete data whenever there is an update in the 
data this source provides. Another importand reason for this table is to 
track the licence of the Data inserted. This way we can be sure we only have 
data in our repository which has the appropriate free licence. On the other 
hand this enables us to easily remove data which we later find to have a 
licence we cannot live with.


.SH Table 'address':
My idea for address was to fill in things like the address of a
Hotel/Shop/Museum with some additional information.

Another possibility is to use address to mark street segments with the
appropriate name of the street.

At the moment this table will not be filled. This is for later use.

.SH Special columns:
last_modified: The last_modified column is intended to figure out if this 
entry was modified since last download. This should enable incremental 
downloads. Since my local database already contains 5.532.091 entries, this 
seems to be very important.

scale_[min|max]: The scale_min scale_max columns help to decide in which 
resolution the poi/streets will be displayed in gpsdrive.


.SH Filling the table 'poi':
To fill your poi Tables you just have to start geoinfo.pl from the scripts 
directory.
If you have one day of time you can give "geoinfo.pl --all" a try ;-)

For City Names only, you can use 
geoinfo.pl --earthinfo_nga_mil=xx[,yy][,zz]...
            Download from earthinfo.nga.mil and import into mysql DB. These
            are ~2.500.000 City Names around the world
            Download Country File from http://earth-info.nga.mil/gns/html/
            where xx is one or more countries. geoinfo.pl -earthinfo_nga_mil=??
            gives you a complete list of allowed county tuples.
            For more info on Countries have a look at
            http://earth-info.nga.mil/gns/html/cntry_files.html
            The complete download is about ~180 MB

As far as i had a look on this Data it is a pretty good start. The lat/lon for 
the cities seems to be in the area of 1 Km to the real city center. 

One problem I still have to solve is how to handle merging changes in the 
download from for example earthinfo.nga.mil (They update once a month) to my 
own corrections.

.SH Table 'streets':
The streets database is a quick hack for testing for now. But plans are to 
enter street segments in there. So we can add vector maps to gpsdrive. At the 
moment you can fill the table with geoinfo.pl (yes the name sounds wrong). geoinfo.pl 
can download some data and import them into the tables.
 geoinfo.pl --wdb   
Downloads and imports the World Database WDB Data
            These data consists of Country Borders and Waterlines
            Download is ~30 MB

At the moment streets uses the normal table 'type' and some hard coded stuff 
in the source(As stated: a Hack), but I think this has to be changed. Since 
the information needed will be a little different to type for the poi.


.SH Table 'type':
In the type Database you will find a classification for the poi data. For now 
I insert some type Data in there for a start. These are for now only in 
german and only a suggestion. We will have to think about the needed types. 
We will need a starting list for the types which will be initially generated 
when installing gpsdrive. The Idea is to create a hierarchical structure. 
This would enable us to classify the points much easier and/or much more 
precise. An example would be a pharmacy would classify as 
medical.shop.pharmacy. But all these thoughts are still way at the beginning.
Another thing we would need for all those type is an icon to add to the point 
when showing on the map. I started to change the old inline icon handling to 
manage all icons as files and to read also from the gpsdrive sysstemwide icon 
directory and from the user directory. But only started.


.SH Questions

How do they interrelate with each other?  
And, is the POI table intended to REPLACE the "waypoints" table, or just
supplement it?)

As you see; yes my plan is to replace the waypoint table. But it will take a 
very long time until this will happen.
 

.SH MAILING LIST
The address for the mailing list is 
.B gpsdrive@warbase.selwerd.nl

Subscribing can be done by sending a mail containing 
.B subscribe gpsdrive

to majordomo@warbase.selwerd.nl

.SH BUGS
Please send bug reports to the author. Report version (geoinfo -v),
info how to reproduce the bug. It is also a big help
to run geoinfo in debug mode with the -d option and send me the output.

.SH SEE ALSO

gpsdrive (1)


.SH AUTHOR
Joerg Ostertag
.br
E-Mail: joerg.ostertag@rechengilde.de
.br
http://www.gpsdrive.cc
http://www.ostertag.name/tweety/Projekte/gpsdrive/

.SH WARRANTY
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

.SH COPYRIGHT
Copyright (c) 2001-2004 by Joerg Ostertag
.br
This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.


